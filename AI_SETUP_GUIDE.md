# AI 智能分析功能配置指南

## 功能说明

个人成长仪表盘现已集成 DeepSeek AI 智能分析功能，可以：

1. **智能分析日记内容**：根据你写的成长日记，AI 会分析内容并推荐应该在哪些维度上增加分数
2. **推荐分数值**：AI 会根据日记内容的质量和成长程度，建议具体的分数值（1-10分）
3. **建议新维度**：如果日记内容涉及到现有维度未覆盖的领域，AI 还会建议添加新的成长维度

## 配置步骤

### 1. 获取 DeepSeek API Key

1. 访问 [DeepSeek 官网](https://platform.deepseek.com/)
2. 注册账号并登录
3. 进入 API Keys 管理页面
4. 创建新的 API Key 并复制

### 2. 配置环境变量

1. 在项目根目录创建 `.env` 文件（如果不存在）
2. 添加以下内容：

```env
VITE_DEEPSEEK_API_KEY=your-actual-api-key-here
```

将 `your-actual-api-key-here` 替换为你在步骤1中获取的真实 API Key

### 3. 重启开发服务器

如果开发服务器正在运行，需要重启以加载新的环境变量：

```bash
# 停止当前服务器 (Ctrl+C)
# 重新启动
npm run dev
```

## 使用方法

1. 在个人成长仪表盘中，点击"添加日记"
2. 输入你今天的成长日记内容
3. 点击"AI 智能分析"按钮
4. 等待 AI 分析完成（通常需要几秒钟）
5. 查看 AI 的建议：
   - **维度和分数建议**：显示应该在哪个维度/分类上加分，以及建议的分数
   - **建议理由**：AI 会说明为什么建议这个分数
   - **新维度建议**：如果有必要，AI 会建议添加新的成长维度
6. 点击"应用"按钮，自动填充维度和分数
7. 确认无误后，点击保存按钮保存日记

## 示例

### 输入日记：
```
今天学习了 React Hooks 的高级用法，完成了一个复杂的状态管理案例。
同时也和团队成员分享了学习心得，帮助两位同事解决了技术问题。
```

### AI 可能的分析结果：
- **专业技能 - React开发**: +5分，深入学习了 React 高级特性
- **沟通能力 - 知识分享**: +3分，主动分享知识并帮助他人
- **领导力 - 团队协作**: +2分，展现了团队协作精神

## 注意事项

1. **API Key 安全**：
   - 不要将 `.env` 文件提交到 Git 仓库
   - `.env` 文件已在 `.gitignore` 中被忽略
   - 不要在代码中硬编码 API Key

2. **API 调用费用**：
   - DeepSeek API 可能会产生费用
   - 建议查看官网的定价说明
   - 合理控制使用频率

3. **网络要求**：
   - 需要能够访问 DeepSeek API 服务
   - 如果网络不稳定，分析可能失败

4. **AI 建议仅供参考**：
   - AI 的分析结果仅供参考
   - 最终的维度选择和分数由你自己决定
   - 你可以修改 AI 的建议后再保存

## 故障排除

### 问题1：点击"AI 智能分析"后提示"请先在 .env 文件中配置..."

**解决方案**：检查 `.env` 文件是否存在，以及 API Key 是否正确配置

### 问题2：提示"AI 分析失败: ..."

**可能原因**：
- API Key 错误或已过期
- 网络连接问题
- DeepSeek API 服务暂时不可用

**解决方案**：
1. 验证 API Key 是否正确
2. 检查网络连接
3. 查看浏览器控制台的详细错误信息

### 问题3：AI 返回的不是 JSON 格式

**解决方案**：代码已经处理了这种情况，会显示原始内容。如果频繁出现，可能需要调整 prompt

## 自定义配置

如果你想调整 AI 的分析行为，可以修改 `PersonalDashboard.jsx` 中的 `analyzeWithAI` 函数的 system prompt。

例如：
- 调整分数范围
- 增加或减少分析的详细程度
- 修改建议的格式
